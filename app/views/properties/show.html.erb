  <div class="properties-show-container" data-controller="set-total-price">
    <div div class="home-offer-card ">
      <%= cl_image_tag @property.photos[0].key, class:"home-offer-card-img"%>
      <div class="home-offer-card-infos">
        <div class="home-offer-card-infos-left">
          <h3 class="home-offer-card-infos-name"><%= @property.name %></h3>
          <p class="home-offer-card-infos-description"><%= @property.overview %></p>
        </div>
        <div class="home-offer-card-infos-right">
          <p class="home-offer-card-price"><strong><%= @property.price_per_night %></strong>$ / Night</p>
        </div>
      </div>
    </div>
    <%# ---------Unavailable Dates---------- %>
    <% array = [] %>
    <%@property.bookings.each do |booking|%>
    <% array << { %>
      <% from: booking.start_date, %>
      <% to: booking.end_date %>
    <% } %>
    <% end %>
    <%# ------------------------------------ %>

      <%= simple_form_for(@booking, url: property_bookings_path(@property)) do |f| %>
        <label class="sec-color new-booking-label" for="">Tell us when :</label>
        <input data-action="change->set-total-price#updatePrice" data-set-total-price-input class="new-booking-date-input" type="string" placeholder='Select your desired dates' data-controller="datepicker" data-datepicker-array-value= <%= array.to_json %>>
        <%= f.input :start_date,
                    as: :hidden,
                    input_html: { id: "start_date"} %>
        <%= f.input :end_date,
                    as: :hidden,
                    input_html: { id: "end_date" } %>
        <%= f.submit 'Book my dream', class: "new-booking-cta" %>
      <% end %>
    </div>
  </div>
