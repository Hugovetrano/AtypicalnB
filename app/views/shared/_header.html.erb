<header>
  <% if current_user&.owner_mode %>
    <a href="/"><img src="https://i.ibb.co/mDsg2HP/test-logo-720.png" alt="Logo" width="150"></a>
    <ul class="header-menu-container">
      <li><%= link_to 'My Properties', owner_properties_path, class: "owner-mode-on #{'color-active' if current_page?(owner_properties_path)}" %></li>
      <li><%= link_to 'My Next Guests', owner_bookings_path, class: "owner-mode-on #{'color-active' if current_page?(owner_bookings_path)}" %></li>
      <div class="dropdown">
        <li class="dropdown-toggle owner-mode-on" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          Settings
        </li>
        <ul class="dropdown-menu setting-menu" aria-labelledby="dropdownMenuButton1">
          <%= link_to user_path(current_user) do %>
          <li class="dropdown-item">
            <div class="nav-dropdown-div">
              <img src="https://res.cloudinary.com/dfuzqnyhu/image/upload/c_crop,h_565,w_565,x_0/v1686910297/samples/people/smiling-man.jpg" class="avatar-small">
              <p class="nav-dropdown-name"><%= current_user.first_name %> <%= current_user.last_name %></p>
              <hr class="nav-separator-line">
            </div>
          </li>
          <% end %>
          <li class="dropdown-item setting-menu"><%= link_to 'View stats', revenue_path, class: "header-small-links" %></li>
          <li class="dropdown-item setting-menu"><%= link_to 'Edit profile', user_path(current_user), class: "header-small-links" %></li>
          <li class="dropdown-item setting-menu"><div class="nav-dropdown-div"><%= link_to 'Logout', destroy_user_session_path, data: {turbo_method: :delete}, class: "navbar-logout-button" %></div></li>
        </ul>
      </div>
    </ul>
    <div class="header-small-links-container">
      <div class="switch-container">
        <p class="owner-mode-on text-center">Owner</p>
          <label class="switch mode_on" data-controller="owner-mode" data-owner-mode-target="container">
            <input type="checkbox">
            <span class="slider round" data-action="click->owner-mode#toggle"></span>
          </label>
        <p class="white text-center my-0">Renter</p>
      </div>
    </div>
  <% elsif current_user&.owner_mode == false %>
    <a href="/"><img src="https://i.ibb.co/mDsg2HP/test-logo-720.png" alt="Logo" width="150"></a>
    <ul class="header-menu-container">
      <li><%= link_to 'Our experiences', properties_path, class: "#{'color-active' if current_page?(properties_path)}"%></li>
      <li><%= link_to 'My Reservations', bookings_path, class: "#{'color-active' if current_page?(bookings_path)}"%></li>
      <div class="dropdown">
        <li class="dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
          Settings
        </li>
        <ul class="dropdown-menu setting-menu" aria-labelledby="dropdownMenuButton1">
          <%= link_to user_path(current_user) do %>
          <li class="dropdown-item">
            <div class="nav-dropdown-div">
              <img src="https://res.cloudinary.com/dfuzqnyhu/image/upload/c_crop,h_565,w_565,x_0/v1686910297/samples/people/smiling-man.jpg" class="avatar-small">
              <p class="nav-dropdown-name"><%= current_user.first_name %> <%= current_user.last_name %></p>
              <hr class="nav-separator-line">
            </div>
          </li>
          <% end %>
          <%# <li class="dropdown-item setting-menu"><%= link_to 'Edit profile', user_path(current_user), class: "header-small-links" %></li>
          <li class="dropdown-item setting-menu"><div class="nav-dropdown-div"><%= link_to 'Logout', destroy_user_session_path, data: {turbo_method: :delete}, class: "navbar-logout-button" %></div></li>
        </ul>
      </div>
    </ul>
    <div class="header-small-links-container">
      <div class="switch-container">
        <p class="owner-mode-off white text-center">Owner</p>
          <label class="switch mode_off" data-controller="owner-mode" data-owner-mode-target="container">
            <input type="checkbox">
            <span class="slider round" data-action="click->owner-mode#toggle"></span>
          </label>
        <p class="text-center my-0">Renter</p>
      </div>
    </div>
  <% else %>
    <div class="header-logo-container">
      <a href="/"><img src="https://i.ibb.co/mDsg2HP/test-logo-720.png" alt="Logo" width="150"></a>
    </div>
    <ul class="header-menu-container">
      <li><%= link_to 'Our experiences', properties_path%></li>
      <li><%= link_to 'Register', new_user_registration_path %></li>
      <li><%= link_to 'Login', new_user_session_path%></li>
    </ul>
  <% end %>
</header>
